Hello, I am a PHD Student working on a HTML/JS/CSS project.
I want to make a DPS Simulator for the latest version of Diablo 2 Median XL 2.12.6 version.
The wiki of the mod can be found here : https://docs.median-xl.com/
Since this is a big project and there are a lot of different abilities in the game which damage are calculated very differently, I want to target some specific spells first.
This project will need to take EVERYTHING into account and will grow after each iteration.
Character data will be loaded from json files (skills, equipped items, charms ect...). We will gather the different stats from each item from the json and calculate the final result for each stats as it is done in game.
For this project I have some already established code and my own data structure.
We will need to change it as the project evolves to be more maintainable and modulable.
Here is the actual code for the DPS Simulator :

--- File: D:\Projets\Diablo\MedianXLSimDPS\index.html ---
<!doctype html>
<html style="height:100%" lang="en">

<head>
    <meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	<link href="css/style.css" rel="stylesheet">
	<title>Median XL Sim Dps</title>
</head>
<body>
	<div id="pageCharacter"></div>
	<script src="js/script.js"></script>
	<script src="js/data.js"></script>
</body>
</html>

--- File: D:\Projets\Diablo\MedianXLSimDPS\css\style.css ---


--- File: D:\Projets\Diablo\MedianXLSimDPS\js\data.js ---
let sluggly = createCharacter("Sluggly","Paladin",120);
sluggly.addAttributePoints(0,0,100,0);
sluggly.setAllQuestsDone();

let umbaruTreasure = createItem("Umbaru Treasure","Charm",null,{ SpellDamage: 10 },null);

sluggly.equipItem(umbaruTreasure);
displayCharacterStats(sluggly);

// First Letter: L Lightning, F Fire, C Cold, P Poison, Y: Physical: M Magic
// Second Letter: L Low, H High
// Third Letter: S Scaling, B Base
let mindFlayScaling = { Base: { PLB: 25, PLS: 3.5416, PHB: 32, PHS: 3.75, LLB: 51, LLS: 6.583, LHB: 65, LHS: 7.9583 } };
let mindFlay = createSkill("Mind Flay","Paladin","Warlock",null,mindFlayScaling,25);

// Resists order: Fire,Cold,Lightning,Poison,Magical,Physical
let samael = createEnemy("Samael",1000,[99,99,99,99,0,0]);
let dummy = createEnemy("Dummy",1000,[0,0,0,0,0,0]);

simDPS(mindFlay,sluggly,dummy);

--- File: D:\Projets\Diablo\MedianXLSimDPS\js\script.js ---
var characterList = []; // Array containing all user created characters
var itemList = []; // Array containing all user created items
var skillList = []; // Array containing all created skills
var enemyList = []; // Array containing all created enemies

class Character {
    constructor(charName, charClass, level) {
        this.charName = charName; // String unique
        this.charClass = charClass; // String equal to: "Amazon","Assassin","Barbarian","Druid","Necromancer","Paladin","Sorceress"
        this.level = level; // Value between 1 and 150
        this.strength = 0;
        this.dexterity = 0;
        this.vitality = 0;
        this.energy = 0;
        this.life = 0;
        this.mana = 0;
        this.startingStrength = 0;
        this.startingDexterity = 0;
        this.startingVitality = 0;
        this.startingEnergy = 0;
        this.startingLife = 0;
        this.startingMana = 0;
        this.lifePerLevel = 0;
        this.manaPerLevel = 0;
        this.lifePerVitality = 0;
        this.manaPerEnergy = 0;
        this.attributedStrength = 0;
        this.attributedDexterity = 0;
        this.attributedVitality = 0;
        this.attributedEnergy = 0;
        this.spellFocus = 0; // Max 1000
        this.allSkillLevel = 0;
        this.classSkillLevel = 0;
        this.defense = 0;
        this.blockChance = 0;
        this.fireSpellDamage = 0;
        this.coldSpellDamage = 0;
        this.lightningSpellDamage = 0;
        this.poisonSpellDamage = 0;
        this.magicSpellDamage = 0;
        this.physicalSpellDamage = 0;
        this.firePiercing = 0;
        this.coldPiercing = 0;
        this.lightningPiercing = 0;
        this.poisonPiercing = 0;
        this.fireResistance = -70;
        this.coldResistance = -70;
        this.lightningResistance = -70;
        this.poisonResistance = -70;
        this.magicResistance = 0;
        this.physicalResistance = 0;
        this.maximumFireResistance = 75; // Max 90
        this.maximumColdResistance = 75; // Max 90
        this.maximumLightningResistance = 75; // Max 90
        this.maximumPoisonResistance = 75; // Max 90
        this.maximumMagicResistance = 50; // Max 50
        this.maximumPhysicalResistance = 50; // Max 50
        this.equippedItems = [];
        this.helm = null; // Item slot = "Helm"
        this.weapon1 = null; // Item slot = "Weapon1"
        this.weapon2 = null; // Item slot = "Weapon2"
        this.amulet = null; // Item slot = "Amulet"
        this.bodyArmor = null; // Item slot = "Body Armor"
        this.gloves = null; // Item slot = "Gloves"
        this.belt = null; // Item slot = "Belt"
        this.boots = null; // Item slot = "Boots"
        this.ring1 = null; // Item slot = "Ring1"
        this.ring2 = null; // Item slot = "Ring2"
        this.charms = []; // Array of Item slot = "Charm" (Unique charm name)
        this.relics = []; // Array of Item slot = "Relic" (max size = 3)
        this.quests = []; // Array of Strings in Quest Names
    }

    setBaseStats(charClass) {
        if (charClass == "Amazon") {
            this.startingStrength = 25;
            this.startingDexterity = 25;
            this.startingVitality = 20;
            this.startingEnergy = 15;
            this.lifePerLevel = 25;
            this.manaPerLevel = 7.5;
            this.lifePerVitality = 2.25;
            this.manaPerEnergy = 2.25;
            this.startingLife = 70;
            this.startingMana = 15;
        }
        else if (charClass == "Assassin") {
            this.startingStrength = 20;
            this.startingDexterity = 30;
            this.startingVitality = 15;
            this.startingEnergy = 15;
            this.lifePerLevel = 30;
            this.manaPerLevel = 7.5;
            this.lifePerVitality = 2.25;
            this.manaPerEnergy = 2.25;
            this.startingLife = 65;
            this.startingMana = 15;
        }
        else if (charClass == "Barbarian") {
            this.startingStrength = 30;
            this.startingDexterity = 20;
            this.startingVitality = 30;
            this.startingEnergy = 5;
            this.lifePerLevel = 30;
            this.manaPerLevel = 5;
            this.lifePerVitality = 2.75;
            this.manaPerEnergy = 1.5;
            this.startingLife = 80;
            this.startingMana = 5;
        }
        else if (charClass == "Druid") {
            this.startingStrength = 25;
            this.startingDexterity = 20;
            this.startingVitality = 15;
            this.startingEnergy = 25;
            this.lifePerLevel = 25;
            this.manaPerLevel = 10;
            this.lifePerVitality = 2.25;
            this.manaPerEnergy = 3;
            this.startingLife = 65;
            this.startingMana = 25;
        }
        else if (charClass == "Necromancer") {
            this.startingStrength = 15;
            this.startingDexterity = 25;
            this.startingVitality = 20;
            this.startingEnergy = 25;
            this.lifePerLevel = 25;
            this.manaPerLevel = 10;
            this.lifePerVitality = 1.5;
            this.manaPerEnergy = 3;
            this.startingLife = 70;
            this.startingMana = 25;
        }
        else if (charClass == "Paladin") {
            this.startingStrength = 25;
            this.startingDexterity = 20;
            this.startingVitality = 25;
            this.startingEnergy = 15;
            this.lifePerLevel = 32.5; // Exact Sigma 2.5.1
            this.manaPerLevel = 5;
            this.lifePerVitality = 2.75; // Exact Sigma 2.5.1
            this.manaPerEnergy = 1.5;
            this.startingLife = 75;
            this.startingMana = 15;
        }
        else if (charClass == "Sorceress") {
            this.startingStrength = 10;
            this.startingDexterity = 25;
            this.startingVitality = 15;
            this.startingEnergy = 35;
            this.lifePerLevel = 35;
            this.manaPerLevel = 10;
            this.lifePerVitality = 2.25;
            this.manaPerEnergy = 2.5;
            this.startingLife = 65;
            this.startingMana = 35;
        }
    }

    resetStats() {
        this.strength = 0;
        this.dexterity = 0;
        this.vitality = 0;
        this.energy = 0;
        this.life = 0;
        this.mana = 0;
        this.startingStrength = 0;
        this.startingDexterity = 0;
        this.startingVitality = 0;
        this.startingEnergy = 0;
        this.startingLife = 0;
        this.startingMana = 0;
        this.lifePerLevel = 0;
        this.manaPerLevel = 0;
        this.lifePerVitality = 0;
        this.manaPerEnergy = 0;
        this.attributedStrength = 0;
        this.attributedDexterity = 0;
        this.attributedVitality = 0;
        this.attributedEnergy = 0;
        this.spellFocus = 0;
        this.allSkillLevel = 0;
        this.classSkillLevel = 0;
        this.defense = 0;
        this.blockChance = 0;
        this.fireSpellDamage = 0;
        this.coldSpellDamage = 0;
        this.lightningSpellDamage = 0;
        this.poisonSpellDamage = 0;
        this.magicSpellDamage = 0;
        this.physicalSpellDamage = 0;
        this.firePiercing = 0;
        this.coldPiercing = 0;
        this.lightningPiercing = 0;
        this.poisonPiercing = 0;
        this.fireResistance = -70;
        this.coldResistance = -70;
        this.lightningResistance = -70;
        this.poisonResistance = -70;
        this.magicResistance = 0;
        this.physicalResistance = 0;
        this.maximumFireResistance = 75;
        this.maximumColdResistance = 75;
        this.maximumLightningResistance = 75;
        this.maximumPoisonResistance = 75;
        this.maximumMagicResistance = 50;
    }

    calculateFinalStats() {
        this.resetStats();
        this.setBaseStats(this.charClass);
        this.strength = this.startingStrength + this.attributedStrength;
        this.dexterity = this.startingDexterity + this.attributedDexterity;
        this.vitality = this.startingVitality + this.attributedVitality;
        this.energy = this.startingEnergy + this.attributedEnergy;
        this.calculateFinalLife();
        this.mana = this.startingMana + (this.level-1) * this.manaPerLevel + (this.energy - this.startingEnergy) * this.manaPerEnergy;
        this.calculateTotalItemStats();
    }

    calculateFinalLife() {
        this.life = this.startingLife + (this.level-1) * this.lifePerLevel + (this.vitality - this.startingVitality) * this.lifePerVitality;
        if (this.quests.includes("Golden Bird Normal")) { this.life += 50; }
        if (this.quests.includes("Golden Bird Nightmare")) { this.life += 50; }
        if (this.quests.includes("Golden Bird Hell")) { this.life += 50; }
    }

    calculateTotalItemStats() {
        for (const item of this.equippedItems) {
            if ((item != null)&&(item != [])) {
                if (item.stats["LightningSpellDamage"] != null) {
                    this.lightningSpellDamage += item.stats["LightningSpellDamage"];
                }
                if (item.stats["LightningPierce"] != null) {
                    this.lightningPiercing += item.stats["LightningPierce"];
                }
                if (item.stats["PhysicalSpellDamage"] != null) {
                    this.physicalSpellDamage += item.stats["PhysicalSpellDamage"];
                }
                if (item.stats["SpellDamage"] != null) {
                    this.fireSpellDamage += item.stats["SpellDamage"];
                    this.coldSpellDamage += item.stats["SpellDamage"];
                    this.lightningSpellDamage += item.stats["SpellDamage"];
                    this.poisonSpellDamage += item.stats["SpellDamage"];
                    this.magicSpellDamage += item.stats["SpellDamage"];
                    this.physicalSpellDamage += item.stats["SpellDamage"];
                }
            }
        }
    }

    equipItem(item) {
        if (item.slot == "Helm") { this.helm = item; }
        else if (item.slot == "Weapon1") { this.weapon1 = item; }
        else if (item.slot == "Weapon2") { this.weapon2 = item; }
        else if (item.slot == "Amulet") { this.amulet = item; }
        else if (item.slot == "Body Armor") { this.bodyArmor = item; }
        else if (item.slot == "Gloves") { this.gloves = item; }
        else if (item.slot == "Belt") { this.belt = item; }
        else if (item.slot == "Boots") { this.boots = item; }
        else if (item.slot == "Ring1") { this.ring1 = item; }
        else if (item.slot == "Ring2") { this.ring2 = item; }
        else if (item.slot == "Charm") {
            if (!this.charms.includes(item)) { this.charms.push(item); }
        }
        else if (item.slot == "Relic") {
            if (!this.relics.includes(item)) { this.relics.push(item); }
        }
        this.updateEquippedItems();
    }

    updateEquippedItems() {
        this.equippedItems = [];
        if (this.helm != null) { this.equippedItems.push(this.helm); }
        if (this.weapon1 != null) { this.equippedItems.push(this.weapon1); }
        if (this.weapon2 != null) { this.equippedItems.push(this.weapon2); }
        if (this.amulet != null) { this.equippedItems.push(this.amulet); }
        if (this.bodyArmor != null) { this.equippedItems.push(this.bodyArmor); }
        if (this.gloves != null) { this.equippedItems.push(this.gloves); }
        if (this.belt != null) { this.equippedItems.push(this.belt); }
        if (this.boots != null) { this.equippedItems.push(this.boots); }
        if (this.ring1 != null) { this.equippedItems.push(this.ring1); }
        if (this.ring2 != null) { this.equippedItems.push(this.ring2); }
        this.equippedItems = this.equippedItems.concat(this.charms);
        this.equippedItems = this.equippedItems.concat(this.relics);
    }

    getItemFromSlot(slot) {
        if (slot == "Helm") { return this.helm; }
        else if (slot == "Weapon1") { return this.weapon1; }
        else if (slot == "Weapon2") { return this.weapon2; }
        else if (slot == "Amulet") { return this.amulet; }
        else if (slot == "Body Armor") { return this.bodyArmor; }
        else if (slot == "Gloves") { return this.gloves; }
        else if (slot == "Belt") { return this.belt; }
        else if (slot == "Boots") { return this.boots; }
        else if (slot == "Ring1") { return this.ring1; }
        else if (slot == "Ring2") { return this.ring2; }
        else if (slot == "Charms") { return this.charms; }
        else if (slot == "Relics") { return this.relics; }
    }

    addAttributePoints(strength,dexterity,vitality,energy) {
        this.attributedStrength = strength;
        this.attributedDexterity = dexterity;
        this.attributedVitality = vitality;
        this.attributedEnergy = energy;
    }

    setAllQuestsDone() {
        this.setQuestDone("Den of Evil Normal");
        this.setQuestDone("Den of Evil Nightmare");
        this.setQuestDone("Den of Evil Hell");
        this.setQuestDone("Radament Normal");
        this.setQuestDone("Radament Nightmare");
        this.setQuestDone("Radament Hell");
        this.setQuestDone("Lam Esen's Tome Normal");
        this.setQuestDone("Lam Esen's Tome Nightmare");
        this.setQuestDone("Lam Esen's Tome Hell");
        this.setQuestDone("Golden Bird Normal");
        this.setQuestDone("Golden Bird Nightmare");
        this.setQuestDone("Golden Bird Hell");
        this.setQuestDone("Izual Normal");
        this.setQuestDone("Izual Nightmare");
        this.setQuestDone("Izual Hell");
        this.setQuestDone("Anya Normal");
        this.setQuestDone("Anya Nightmare");
        this.setQuestDone("Anya Hell");
    }

    setQuestDone(questName) {
        if (!this.quests.includes(questName)) { this.quests.push(questName); }
    }

}

class Enemy {
    constructor(name, life, resists) {
        this.name = name;
        this.life = life;
        this.resists = resists; // Array Fire,Cold,Lightning,Poison,Magical,Physical
    }
}

class Item {
    constructor(name, slot, type, stats, socketed) {
        this.name = name; // String
        this.slot = slot; // String in "Helm","Weapon1","Weapon2",..."Charm","Relic"
        this.type = type; // String
        this.stats = stats; // Dictionnay StatsName -> Value
        this.socketed = socketed; // Array of item
    }
}

class Skill {
    constructor(name, charClass, tree, requirement, scaling, skillLevel) {
        this.name = name; // String unique
        this.charClass = charClass; // String
        this.scaling = scaling;
        this.tree = tree;
        this.skillLevel = skillLevel;
        this.requirement = requirement;
    }
}

function createCharacter(charName, charClass, level) {
    let character = new Character(charName,charClass,level);
    characterList.push(character);
    return character;
}

function createItem(name, slot, stats, socketed) {
    let item = new Item(name,slot,stats,socketed);
    itemList.push(item);
    return item;
}

function createSkill(name,charClass,tree,requirement,scaling,base) {
    let skill = new Skill(name,charClass,tree,requirement,scaling,base);
    skillList.push(skill);
    return skill;
}

function createEnemy(name,life,resists) {
    let enemy = new Enemy(name,life,resists);
    enemyList.push(enemy);
    return enemy;
}

function displayCharacterStats(character) {
    character.calculateFinalStats();
    let characterDiv = document.getElementById("pageCharacter");
    let charNameLevelSpan = document.createElement("span");
    charNameLevelSpan.innerHTML = character.charName + " " + character.charClass + " Level: " + character.level;
    characterDiv.appendChild(charNameLevelSpan);
    characterDiv.appendChild(document.createElement("br"));
    let lifeSpan = document.createElement("span");
    lifeSpan.innerHTML = "Life: " + character.life;
    characterDiv.appendChild(lifeSpan);
    characterDiv.appendChild(document.createElement("br"));
    let manaSpan = document.createElement("span");
    manaSpan.innerHTML = "Mana: " + character.mana;
    characterDiv.appendChild(manaSpan);
    characterDiv.appendChild(document.createElement("br"));
    let strengthSpan = document.createElement("span");
    strengthSpan.innerHTML = "Strength: " + character.strength;
    characterDiv.appendChild(strengthSpan);
    characterDiv.appendChild(document.createElement("br"));
    let dexteritySpan = document.createElement("span");
    dexteritySpan.innerHTML = "Dexterity: " + character.dexterity;
    characterDiv.appendChild(dexteritySpan);
    characterDiv.appendChild(document.createElement("br"));
    let vitalitySpan = document.createElement("span");
    vitalitySpan.innerHTML = "Vitality: " + character.vitality;
    characterDiv.appendChild(vitalitySpan);
    characterDiv.appendChild(document.createElement("br"));
    let energySpan = document.createElement("span");
    energySpan.innerHTML = "Energy: " + character.energy;
    characterDiv.appendChild(energySpan);
    characterDiv.appendChild(document.createElement("br"));
    let lightningSpellDamageSpan = document.createElement("span");
    lightningSpellDamageSpan.innerHTML = "Lightning Spell Damage: " + character.lightningSpellDamage + "%";
    characterDiv.appendChild(lightningSpellDamageSpan);
    characterDiv.appendChild(document.createElement("br"));
    let lightningPiercingSpan = document.createElement("span");
    lightningPiercingSpan.innerHTML = "Enemy Lightning Resistance: -" + character.lightningPiercing + "%";
    characterDiv.appendChild(lightningPiercingSpan);
}

function calculDegatSkill(skill, character, enemy) {
    character.calculateFinalStats();
    let totalDamageLow = 0.0;
    let totalDamageHigh = 0.0;

    // Scaling damage par level
    let totalLightningDamageLow = 0.0;
    let totalLightningDamageHigh = 0.0;
    let totalPhysicalDamageLow = 0.0;
    let totalPhysicalDamageHigh = 0.0;

    let totalSkillLevel = skill.skillLevel + character.allSkillLevel + character.classSkillLevel;

    if (skill.scaling["Base"] != null) {
        if (skill.scaling["Base"]["PLB"] != null) {
            totalPhysicalDamageLow = totalPhysicalDamageLow + skill.scaling["Base"]["PLB"] + ((totalSkillLevel-1) * skill.scaling["Base"]["PLS"]);
            totalPhysicalDamageHigh = totalPhysicalDamageHigh + skill.scaling["Base"]["PHB"] + ((totalSkillLevel-1) * skill.scaling["Base"]["PHS"]);
        }
        if (skill.scaling["Base"]["LLB"] != null) {
            totalLightningDamageLow = totalLightningDamageLow + skill.scaling["Base"]["LLB"] + ((totalSkillLevel-1) * skill.scaling["Base"]["LLS"]);
            totalLightningDamageHigh = totalLightningDamageHigh + skill.scaling["Base"]["LHB"] + ((totalSkillLevel-1) * skill.scaling["Base"]["LHS"]);
        }
    }

    totalLightningDamageLow = totalLightningDamageLow * (1 + (character.lightningSpellDamage/100.0));
    totalLightningDamageHigh = totalLightningDamageHigh * (1 + (character.lightningSpellDamage/100.0));
    totalPhysicalDamageLow = totalPhysicalDamageLow * (1 + (character.physicalSpellDamage/100.0));
    totalPhysicalDamageHigh = totalPhysicalDamageHigh * (1 + (character.physicalSpellDamage/100.0));

    totalLightningDamageLow = totalLightningDamageLow * (1 - (Math.max((enemy.resists[2]-character.lightningPiercing),-100)/100.0));
    totalLightningDamageHigh = totalLightningDamageHigh * (1 - (Math.max((enemy.resists[2]-character.lightningPiercing),-100)/100.0));

    totalPhysicalDamageLow = totalPhysicalDamageLow * (1 - (enemy.resists[5]/100.0));
    totalPhysicalDamageHigh = totalPhysicalDamageHigh * (1 - (enemy.resists[5]/100.0));

    totalDamageLow = totalPhysicalDamageLow + totalLightningDamageLow;
    totalDamageHigh = totalPhysicalDamageHigh + totalLightningDamageHigh;

    return {totalDamageLow,totalDamageHigh};
}

function simDPS(skill, character, enemy) {
    let characterDiv = document.getElementById("pageCharacter");
    characterDiv.appendChild(document.createElement("br"));
    let damageMindFlay = calculDegatSkill(skill,character,enemy);
    let mindFlaySpan = document.createElement("span");
    mindFlaySpan.innerHTML = "Mind Flay: " + damageMindFlay["totalDamageLow"] + "-" + damageMindFlay["totalDamageHigh"];
    characterDiv.appendChild(mindFlaySpan);
}

I would like for you to assist me in developping this project.
For now character data is hardcoded into the data.js file. I would like for it to be stored into a json file.
Please help me setup the code for reading the json file for a character. The website needs a button load character data.
When adding code or modifying code, please do not rewrite the content of the whole file, just tell me where to add/modify the lines.
For anything I suggest if you think there are better methods (as in more efficient or provides better results) then please suggest them to me.
